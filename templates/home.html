{% extends "base.html" %}
{% block content %}
<!-- <div class="columns is-centered block" style="padding-top: 200px;"> 
        <button id="button" class="button is-info" type="button" onclick="init()">Start webcam</button>
        <div id="webcam-container"></div>
        <div id="label-container" style="padding-left: 30px;"></div>
</div> -->
<div class="columns is-centered block" style="padding-top: 100px;">
    
    <video id="video" width="720" height="560" autoplay muted></video>
    <div id="label-container" style="padding-left: 30px; "></div>
    
</div>
        
        <script defer src="{{ url_for('static', filename='face-api.js') }}"></script>
        <script defer src="{{ url_for('static', filename='face-api.min.js') }}"></script>
        <script defer src="{{ url_for('static', filename='script.js') }}"></script>
        <style>
           
        
            canvas {
              position: absolute;
            }
          </style>
        <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        
        <script type="text/javascript">
    // More API functions here:
    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

    

//     let model, webcam, labelContainer, maxPredictions, model_face, detection;
    
    

//     // Load the image model and setup the webcam
//     async function init() {

//         console.log(faceapi.nets);
//         await faceapi.nets.faceLandmark68Net.loadFromUri('../static/models');
//         await faceapi.nets.faceExpressionNet.loadFromUri('../static/models');
//         await faceapi.nets.tinyFaceDetector.loadFromUri('../static/models');
        
        
        
    

//         // Convenience function to setup a webcam
//         const flip = true; // whether to flip the webcam
        
//         webcam = new tmImage.Webcam(400, 400, flip); // width, height, flip
//         await webcam.setup(); // request access to the webcam
//         await webcam.play();
        
        

//         window.requestAnimationFrame(loop);

//         // append elements to the DOM
//         document.getElementById("webcam-container").appendChild(webcam.canvas);
//         labelContainer = document.getElementById("label-container");
        
//         for (let i = 0; i < detection.length; i++) { // and class labels
//             labelContainer.appendChild(document.createElement("div"));
//         }

//         button = document.getElementById("button");
//         button.classList.add("is-hidden");
//     }

//     async function loop() {
//         webcam.update(); // update the webcam frame

//         predict();

//         window.requestAnimationFrame(loop);

        
//     }

    
    
//     async function detect_faces() {
        


// }

//     // run the webcam image through the image model
//     async function predict() {
//         console.log("ok");
//         detection = await faceapi.detectSingleFace(webcam.canvas, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();
//         console.log("ok");
//     }

    
// </script> -->
{% endblock %}
